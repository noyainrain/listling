
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>2. Web API &#8212; Open Listling 0.48.0 documentation</title>
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/language_data.js"></script>
    <link rel="shortcut icon" href="_static/icon-small.png"/>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="3. Python API" href="pythonapi.html" />
    <link rel="prev" title="1. Open Listling" href="README.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="web-api">
<h1><span class="section-number">2. </span>Web API<a class="headerlink" href="#web-api" title="Permalink to this headline">¶</a></h1>
<section id="introduction">
<h2><span class="section-number">2.1. </span>Introduction<a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h2>
<p>The application provides a JSON REST API.</p>
<p>Arguments are passed to an endpoint simply as JSON object and the result is returned as JSON value.
<em>Objects</em> contain a <code class="docutils literal notranslate"><span class="pre">__type__</span></code> attribute that holds the name of the object type.</p>
<p>If a requested endpoint doesn’t exist, a <a class="reference internal" href="#notfounderror"><span class="std std-ref">NotFoundError</span></a> is returned. For any endpoint, an
<a class="reference internal" href="#inputerror"><span class="std std-ref">InputError</span></a> is returned if the input contains invalid arguments. A <a class="reference internal" href="#ratelimiterror"><span class="std std-ref">RateLimitError</span></a> is
returned if the current client exceeds the allowed rate limit for an operation.</p>
<p>The URL that uniquely identifies an object is referred to as <em>object-url</em>, e.g. <code class="docutils literal notranslate"><span class="pre">users/abc</span></code> for a
<a class="reference internal" href="#user"><span class="std std-ref">User</span></a> with the <em>id</em> <code class="docutils literal notranslate"><span class="pre">abc</span></code>.</p>
</section>
<section id="authentication-and-permissions">
<h2><span class="section-number">2.2. </span>Authentication and Permissions<a class="headerlink" href="#authentication-and-permissions" title="Permalink to this headline">¶</a></h2>
<p>To make an API request authenticated as some user, include a cookie named <code class="docutils literal notranslate"><span class="pre">auth_secret</span></code> with the
<a class="reference internal" href="#user"><span class="std std-ref">User</span></a> ‘s <em>auth_secret</em>.</p>
<p>If user authentication with the given secret fails, an <a class="reference internal" href="#authenticationerror"><span class="std std-ref">AuthenticationError</span></a> is returned. For
any endpoint, a <a class="reference internal" href="#permissionerror"><span class="std std-ref">PermissionError</span></a> is returned if the current user is not allowed to perform the
action.</p>
</section>
<section id="additional-types">
<h2><span class="section-number">2.3. </span>Additional types<a class="headerlink" href="#additional-types" title="Permalink to this headline">¶</a></h2>
<p>A <em>datetime</em> is an ISO 8601 date and time string in UTC, e.g. <code class="docutils literal notranslate"><span class="pre">2015-08-27T00:42:00.000Z</span></code>.</p>
<p>A <em>date</em> is an ISO 8601 date string, e.g. <code class="docutils literal notranslate"><span class="pre">2015-08-27</span></code>.</p>
<p>A <em>color</em> is a CSS hex color string, e.g. <code class="docutils literal notranslate"><span class="pre">#0088ff</span></code>.</p>
<p>A <em>slice</em> represents a range of a list, as array <code class="docutils literal notranslate"><span class="pre">[start,</span> <span class="pre">stop]</span></code>, from index <em>start</em> (inclusive)
to <em>stop</em> (exclusive). Both <em>start</em> and <em>stop</em> may be <code class="docutils literal notranslate"><span class="pre">null</span></code>, referring to the beginning (0) and
end (list length) of the list respectively.</p>
<p>A <em>slice string</em> has the form <code class="docutils literal notranslate"><span class="pre">{start}:{stop}</span></code>. Both <em>start</em> and <em>stop</em> may be omitted, meaning
<code class="docutils literal notranslate"><span class="pre">null</span></code>.</p>
<p>A <em>polyglot string</em> is an <code class="xref py py-class docutils literal notranslate"><span class="pre">Object</span></code> holding multiple translations of a string indexed by short
language tag.</p>
<p><em>Markup text</em> is a string that may contain the following markup:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">*Emphasized</span> <span class="pre">text*</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">**Important</span> <span class="pre">text**</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">*</span> <span class="pre">List</span> <span class="pre">item</span></code></p></li>
</ul>
</section>
<section id="usage-examples">
<h2><span class="section-number">2.4. </span>Usage examples<a class="headerlink" href="#usage-examples" title="Permalink to this headline">¶</a></h2>
<p>A new <a class="reference internal" href="#user"><span class="std std-ref">User</span></a> is created and signed in with the following request:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ curl -d &quot;&quot; https://example.org/api/devices
{
    &quot;__type__&quot;: &quot;Device&quot;,
    &quot;id&quot;: &quot;Device:abc&quot;,
    &quot;auth_secret&quot;: &quot;xyz&quot;,
    &quot;user_id&quot;: &quot;User:def&quot;,
    ...
}
</pre></div>
</div>
<p>To authenticate further API calls, the returned <em>auth_secret</em> is set as cookie.</p>
<p>Setting a user’s <em>email</em> address requires multiple steps. First:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ curl -b &quot;auth_secret=xyz&quot; -d &#39;{&quot;email&quot;: &quot;happy@example.org&quot;}&#39; \
       https://example.org/api/users/User:def/set-email
{
    &quot;__type__&quot;: &quot;AuthRequest&quot;,
    &quot;id&quot;: &quot;AuthRequest:ghi&quot;
}
</pre></div>
</div>
<p>This triggers a third party authentication via the email provider (as layed out in
<a class="reference internal" href="#authrequest"><span class="std std-ref">AuthRequest</span></a>). The resulting authentication code (here <code class="docutils literal notranslate"><span class="pre">uvw</span></code>) is then verified to finish
setting the email address:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ curl -b &quot;auth_secret=xyz&quot; -d &#39;{&quot;auth_request_id&quot;: &quot;AuthRequest:ghi&quot;, &quot;auth&quot;: &quot;uvw&quot;}&#39; \
       https://example.org/api/users/User:def/finish-set-email
{
    &quot;__type__&quot;: &quot;User&quot;,
    &quot;id&quot;: &quot;User:def&quot;,
    &quot;email&quot;: &quot;happy@example.org&quot;,
    ...
}
</pre></div>
</div>
</section>
<section id="gone">
<span id="id1"></span><h2><span class="section-number">2.5. </span>Gone<a class="headerlink" href="#gone" title="Permalink to this headline">¶</a></h2>
<p>Former object that does not exist anymore.</p>
</section>
<section id="collection">
<span id="id2"></span><h2><span class="section-number">2.6. </span>Collection<a class="headerlink" href="#collection" title="Permalink to this headline">¶</a></h2>
<p>Collection of objects.</p>
<dl class="describe">
<dt>
<code class="sig-name descname">count</code></dt>
<dd><p>Overall number of items in the collection.</p>
</dd></dl>

<dl class="describe">
<dt>
<code class="sig-name descname">items</code></dt>
<dd><p>Array of queried items. May be undefined.</p>
</dd></dl>

<dl class="describe">
<dt>
<code class="sig-name descname">slice</code></dt>
<dd><p>Slice corresponding to the queried items. May be undefined.</p>
</dd></dl>

<dl class="get">
<dt id="get--api-(resource-url)?slice">
<code class="sig-name descname">GET </code><code class="sig-name descname">/api/(resource-url)?slice</code><a class="headerlink" href="#get--api-(resource-url)?slice" title="Permalink to this definition">¶</a></dt>
<dd><p>Query the collection for a <em>slice</em> of items.</p>
<p><em>slice</em> is a <em>slice string</em>. The maximum number of items is limited to a <em>limit</em> of 100, i.e.
<em>stop</em> is capped at <em>start</em> + <em>limit</em>. Defaults to <code class="docutils literal notranslate"><span class="pre">:</span></code>.</p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">/api/cats</span></code> (which is equivalent to <code class="docutils literal notranslate"><span class="pre">/api/cats?slice=:</span></code> or
<code class="docutils literal notranslate"><span class="pre">/api/cats?slice=0:100</span></code>) returns the first hundred items and <code class="docutils literal notranslate"><span class="pre">/api/cats?slice=10:20</span></code> returns
the items from index 10 up to including 19.</p>
</dd></dl>

</section>
<section id="device">
<span id="id3"></span><h2><span class="section-number">2.7. </span>Device<a class="headerlink" href="#device" title="Permalink to this headline">¶</a></h2>
<p><a class="reference internal" href="#user"><span class="std std-ref">User</span></a> device.</p>
<dl class="describe">
<dt>
<code class="sig-name descname">auth_secret</code></dt>
<dd><p>Secret for authentication.</p>
</dd></dl>

<dl class="describe">
<dt>
<code class="sig-name descname">authenticate_time</code></dt>
<dd><p><em>datetime</em> the device last authenticated.</p>
</dd></dl>

<dl class="describe">
<dt>
<code class="sig-name descname">notification_status</code></dt>
<dd><p>Notification status:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">on</span></code>: Notifications are enabled</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">off</span></code>: Notifications are disabled</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">off.expired</span></code>: Notifications are disabled because <em>push_subscription</em> expired</p></li>
</ul>
</dd></dl>

<dl class="describe">
<dt>
<code class="sig-name descname">push_subscription</code></dt>
<dd><p>Push subscription token used for sending notifications. May be <code class="docutils literal notranslate"><span class="pre">null</span></code>.</p>
</dd></dl>

<dl class="describe">
<dt>
<code class="sig-name descname">user_id</code></dt>
<dd><p>ID of the <a class="reference internal" href="#user"><span class="std std-ref">User</span></a> the device belongs to.</p>
</dd></dl>

<dl class="describe">
<dt>
<code class="sig-name descname">user</code></dt>
<dd><p><a class="reference internal" href="#user"><span class="std std-ref">User</span></a> the device belongs to.</p>
</dd></dl>

</section>
<section id="devices">
<span id="id4"></span><h2><span class="section-number">2.8. </span>Devices<a class="headerlink" href="#devices" title="Permalink to this headline">¶</a></h2>
<dl class="post">
<dt id="post--api-devices">
<code class="sig-name descname">POST </code><code class="sig-name descname">/api/devices</code><a class="headerlink" href="#post--api-devices" title="Permalink to this definition">¶</a></dt>
<dd><p>Create and sign in a new <a class="reference internal" href="#user"><span class="std std-ref">User</span></a>. A <a class="reference internal" href="#device"><span class="std std-ref">Device</span></a> is registered for the user and
returned.</p>
<p>The very first user who signs in is granted staff membership.</p>
</dd></dl>

<dl class="get">
<dt id="get--api-devices-(id)">
<code class="sig-name descname">GET </code><code class="sig-name descname">/api/devices/</code><span class="sig-paren">(</span><em class="sig-param">id</em><span class="sig-paren">)</span><a class="headerlink" href="#get--api-devices-(id)" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the <a class="reference internal" href="#device"><span class="std std-ref">Device</span></a> with <em>id</em>.</p>
<p><code class="docutils literal notranslate"><span class="pre">self</span></code> refers to the authenticated user device.</p>
<p>Permission: Device owner.</p>
</dd></dl>

<dl class="patch">
<dt id="patch--api-devices-(id)">
<code class="sig-name descname">PATCH </code><code class="sig-name descname">/api/devices/</code><span class="sig-paren">(</span><em class="sig-param">id</em><span class="sig-paren">)</span><a class="headerlink" href="#patch--api-devices-(id)" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal notranslate"><span class="pre">{&quot;op&quot;:</span> <span class="pre">&quot;enable_notifications&quot;,</span> <span class="pre">&quot;push_subscription&quot;}</span></code></p>
<p>Enable notifications for the device, using <em>push_subscription</em>.</p>
<p>A confirmation message is sent to the device. If there is a communication issue, a
<a class="reference internal" href="#communicationerror"><span class="std std-ref">CommunicationError</span></a> is returned.</p>
<p>Permission: Device owner.</p>
<p><code class="docutils literal notranslate"><span class="pre">{&quot;op&quot;:</span> <span class="pre">&quot;disable_notifications&quot;}</span></code></p>
<p>Disable notifications for the device.</p>
<p>Permission: Device owner.</p>
</dd></dl>

</section>
<section id="authrequest">
<span id="id5"></span><h2><span class="section-number">2.9. </span>AuthRequest<a class="headerlink" href="#authrequest" title="Permalink to this headline">¶</a></h2>
<p>Third party authentication request.</p>
<p>To set an <a class="reference internal" href="#user"><span class="std std-ref">User</span></a> ‘s email address, a third party authentication via the email provider is
performed to proof ownership over the address: First an email message containing a secret
authentication code is sent to the user. The email provider authenticates the user by login to their
mailbox, where they retrieve the code. Finally the code is passed back to and verified by the
application.</p>
<dl class="describe">
<dt>
<code class="sig-name descname">id</code></dt>
<dd><p>Unique ID of the object.</p>
</dd></dl>

</section>
<section id="activity">
<span id="id6"></span><h2><span class="section-number">2.10. </span>Activity<a class="headerlink" href="#activity" title="Permalink to this headline">¶</a></h2>
<p>Activity feed (of events) around a common topic/context.</p>
<p><em>activity-url</em> is the URL that identifies the activity feed, e.g. <code class="docutils literal notranslate"><span class="pre">/api/activity</span></code>.</p>
<dl class="describe">
<dt>
<code class="sig-name descname">user_subscribed</code></dt>
<dd><p>Indicates if the user subscribed to the feed.</p>
</dd></dl>

<dl class="describe">
<dt>
<code class="sig-name descname">items</code></dt>
<dd><p>List of recorded <a class="reference internal" href="#event"><span class="std std-ref">Event</span></a> s.</p>
</dd></dl>

<dl class="patch">
<dt id="patch--api-(activity-url)">
<code class="sig-name descname">PATCH </code><code class="sig-name descname">/api/(activity-url)</code><a class="headerlink" href="#patch--api-(activity-url)" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal notranslate"><span class="pre">{&quot;op&quot;:</span> <span class="pre">&quot;subscribe&quot;}</span></code></p>
<p>Subscribe the user to the feed.</p>
<p>Permission: Authenticated users.</p>
<p><code class="docutils literal notranslate"><span class="pre">{&quot;op&quot;:</span> <span class="pre">&quot;unsubscribe&quot;}</span></code></p>
<p>Unsubscribe the user from the feed.</p>
<p>Permission: Authenticated users.</p>
</dd></dl>

<dl class="get">
<dt id="get--api-(activity-url)-stream">
<code class="sig-name descname">GET </code><code class="sig-name descname">/api/(activity-url)/stream</code><a class="headerlink" href="#get--api-(activity-url)-stream" title="Permalink to this definition">¶</a></dt>
<dd><p>Get a live stream of <a class="reference internal" href="#event"><span class="std std-ref">Event</span></a> s as <code class="docutils literal notranslate"><span class="pre">text/event-stream</span></code>.</p>
</dd></dl>

</section>
<section id="event">
<span id="id7"></span><h2><span class="section-number">2.11. </span>Event<a class="headerlink" href="#event" title="Permalink to this headline">¶</a></h2>
<p>Event about an action on an <em>object</em> by an <em>user</em>.</p>
<dl class="describe">
<dt>
<code class="sig-name descname">id</code></dt>
<dd><p>Unique ID of the object.</p>
</dd></dl>

<dl class="describe">
<dt>
<code class="sig-name descname">type</code></dt>
<dd><p>Type of the event.</p>
</dd></dl>

<dl class="describe">
<dt>
<code class="sig-name descname">object</code></dt>
<dd><p>Object for which the event happened. <a class="reference internal" href="#gone"><span class="std std-ref">Gone</span></a> if the object does not exist anymore. <code class="docutils literal notranslate"><span class="pre">null</span></code>
if the event is global.</p>
</dd></dl>

<dl class="describe">
<dt>
<code class="sig-name descname">user</code></dt>
<dd><p><a class="reference internal" href="#user"><span class="std std-ref">User</span></a> who triggered the event.</p>
</dd></dl>

<dl class="describe">
<dt>
<code class="sig-name descname">time</code></dt>
<dd><p><em>datetime</em> at which the event happened.</p>
</dd></dl>

<dl class="describe">
<dt>
<code class="sig-name descname">detail</code></dt>
<dd><p>Dictionary with additonal details about the event. The contents depend on the event <em>type</em>.</p>
</dd></dl>

</section>
<section id="location">
<span id="id8"></span><h2><span class="section-number">2.12. </span>Location<a class="headerlink" href="#location" title="Permalink to this headline">¶</a></h2>
<p>Location.</p>
<dl class="describe">
<dt>
<code class="sig-name descname">name</code></dt>
<dd><p>Name of the location.</p>
</dd></dl>

<dl class="describe">
<dt>
<code class="sig-name descname">coords</code></dt>
<dd><p>Coordinates as latitude-longitude pair. May be <code class="docutils literal notranslate"><span class="pre">null</span></code>.</p>
</dd></dl>

</section>
<section id="resources">
<h2><span class="section-number">2.13. </span>Resources<a class="headerlink" href="#resources" title="Permalink to this headline">¶</a></h2>
<section id="resource">
<span id="id9"></span><h3><span class="section-number">2.13.1. </span>Resource<a class="headerlink" href="#resource" title="Permalink to this headline">¶</a></h3>
<p>Web resource description.</p>
<dl class="describe">
<dt>
<code class="sig-name descname">url</code></dt>
<dd><p>URL of the resource.</p>
</dd></dl>

<dl class="describe">
<dt>
<code class="sig-name descname">content_type</code></dt>
<dd><p>Media type.</p>
</dd></dl>

<dl class="describe">
<dt>
<code class="sig-name descname">description</code></dt>
<dd><p>Text description. May be <code class="docutils literal notranslate"><span class="pre">null</span></code>.</p>
</dd></dl>

<dl class="describe">
<dt>
<code class="sig-name descname">thumbnail</code></dt>
<dd><p><a class="reference internal" href="#resourcethumbnail"><span class="std std-ref">Thumbnail</span></a> image. May be <code class="docutils literal notranslate"><span class="pre">null</span></code>.</p>
</dd></dl>

<dl class="describe">
<dt>
<code class="sig-name descname">image</code></dt>
<dd><p><a class="reference internal" href="#image"><span class="std std-ref">Image</span></a> representation. May be <code class="docutils literal notranslate"><span class="pre">null</span></code>.</p>
<div class="deprecated">
<p><span class="versionmodified deprecated">Deprecated since version 0.67.0: </span>Use <em>thumbnail</em> instead.</p>
</div>
</dd></dl>

<section id="thumbnail">
<span id="resourcethumbnail"></span><h4><span class="section-number">2.13.1.1. </span>Thumbnail<a class="headerlink" href="#thumbnail" title="Permalink to this headline">¶</a></h4>
<p>Thumbnail image description.</p>
<dl class="describe">
<dt>
<code class="sig-name descname">url</code></dt>
<dd><p>URL of the thumbnail.</p>
</dd></dl>

<dl class="describe">
<dt>
<code class="sig-name descname">color</code></dt>
<dd><p>Average thumbnail <em>color</em>.</p>
</dd></dl>

</section>
</section>
<section id="image">
<span id="id10"></span><h3><span class="section-number">2.13.2. </span>Image<a class="headerlink" href="#image" title="Permalink to this headline">¶</a></h3>
<p>Image <a class="reference internal" href="#resource"><span class="std std-ref">Resource</span></a> description.</p>
<dl class="describe">
<dt>
<code class="sig-name descname">url</code></dt>
<dd><p>URL of the resource.</p>
</dd></dl>

<dl class="describe">
<dt>
<code class="sig-name descname">content_type</code></dt>
<dd><p>Media type.</p>
</dd></dl>

<dl class="describe">
<dt>
<code class="sig-name descname">description</code></dt>
<dd><p>Text description. May be <code class="docutils literal notranslate"><span class="pre">null</span></code>.</p>
</dd></dl>

<dl class="describe">
<dt>
<code class="sig-name descname">thumbnail</code></dt>
<dd><p><a class="reference internal" href="#resourcethumbnail"><span class="std std-ref">Thumbnail</span></a> image. May be <code class="docutils literal notranslate"><span class="pre">null</span></code>.</p>
</dd></dl>

<dl class="describe">
<dt>
<code class="sig-name descname">image</code></dt>
<dd><p><a class="reference internal" href="#image"><span class="std std-ref">Image</span></a> representation. May be <code class="docutils literal notranslate"><span class="pre">null</span></code>.</p>
<div class="deprecated">
<p><span class="versionmodified deprecated">Deprecated since version 0.67.0: </span>Use <em>thumbnail</em> instead.</p>
</div>
</dd></dl>

</section>
<section id="video">
<span id="id11"></span><h3><span class="section-number">2.13.3. </span>Video<a class="headerlink" href="#video" title="Permalink to this headline">¶</a></h3>
<p>Video <a class="reference internal" href="#resource"><span class="std std-ref">Resource</span></a> description.</p>
<dl class="describe">
<dt>
<code class="sig-name descname">url</code></dt>
<dd><p>URL of the resource.</p>
</dd></dl>

<dl class="describe">
<dt>
<code class="sig-name descname">content_type</code></dt>
<dd><p>Media type.</p>
</dd></dl>

<dl class="describe">
<dt>
<code class="sig-name descname">description</code></dt>
<dd><p>Text description. May be <code class="docutils literal notranslate"><span class="pre">null</span></code>.</p>
</dd></dl>

<dl class="describe">
<dt>
<code class="sig-name descname">thumbnail</code></dt>
<dd><p><a class="reference internal" href="#resourcethumbnail"><span class="std std-ref">Thumbnail</span></a> image. May be <code class="docutils literal notranslate"><span class="pre">null</span></code>.</p>
</dd></dl>

<dl class="describe">
<dt>
<code class="sig-name descname">image</code></dt>
<dd><p><a class="reference internal" href="#image"><span class="std std-ref">Image</span></a> representation. May be <code class="docutils literal notranslate"><span class="pre">null</span></code>.</p>
<div class="deprecated">
<p><span class="versionmodified deprecated">Deprecated since version 0.67.0: </span>Use <em>thumbnail</em> instead.</p>
</div>
</dd></dl>

</section>
<section id="previews">
<h3><span class="section-number">2.13.4. </span>Previews<a class="headerlink" href="#previews" title="Permalink to this headline">¶</a></h3>
<p>Web <a class="reference internal" href="#resource"><span class="std std-ref">Resource</span></a> previews.</p>
<dl class="get">
<dt id="get--api-previews-(url)">
<code class="sig-name descname">GET </code><code class="sig-name descname">/api/previews/</code><span class="sig-paren">(</span><em class="sig-param">url</em><span class="sig-paren">)</span><a class="headerlink" href="#get--api-previews-(url)" title="Permalink to this definition">¶</a></dt>
<dd><p>Get a description of the web <a class="reference internal" href="#resource"><span class="std std-ref">Resource</span></a> at <em>url</em>.</p>
</dd></dl>

</section>
</section>
<section id="analytics">
<h2><span class="section-number">2.14. </span>Analytics<a class="headerlink" href="#analytics" title="Permalink to this headline">¶</a></h2>
<section id="statistic">
<span id="id12"></span><h3><span class="section-number">2.14.1. </span>Statistic<a class="headerlink" href="#statistic" title="Permalink to this headline">¶</a></h3>
<p>Statistic about a topic over time.</p>
<dl class="get">
<dt id="get--api-analytics-statistics-(topic)">
<code class="sig-name descname">GET </code><code class="sig-name descname">/api/analytics/statistics/</code><span class="sig-paren">(</span><em class="sig-param">topic</em><span class="sig-paren">)</span><a class="headerlink" href="#get--api-analytics-statistics-(topic)" title="Permalink to this definition">¶</a></dt>
<dd><p>Query the collection.</p>
<p>The query result is an object <code class="docutils literal notranslate"><span class="pre">{items}</span></code> holding an array of queried <em>items</em>.</p>
<p>Available topics are:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">users</span></code>: Count of all users</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">users-actual</span></code>: Count of actual users, i.e. who returned at least once after the first day</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">users-active</span></code>: Count of monthly active users, i.e. who were seen in the last 30 days</p></li>
</ul>
<p>Permission: Staff members.</p>
</dd></dl>

</section>
<section id="point">
<span id="id13"></span><h3><span class="section-number">2.14.2. </span>Point<a class="headerlink" href="#point" title="Permalink to this headline">¶</a></h3>
<p>Statistic data point.</p>
<dl class="describe">
<dt>
<code class="sig-name descname">t</code></dt>
<dd><p><em>datetime</em> the statistic was collected.</p>
</dd></dl>

<dl class="describe">
<dt>
<code class="sig-name descname">v</code></dt>
<dd><p>Statistic value.</p>
</dd></dl>

</section>
<section id="referral">
<span id="id14"></span><h3><span class="section-number">2.14.3. </span>Referral<a class="headerlink" href="#referral" title="Permalink to this headline">¶</a></h3>
<p>Referral from another site.</p>
<dl class="describe">
<dt>
<code class="sig-name descname">id</code></dt>
<dd><p>Unique ID of the object.</p>
</dd></dl>

<dl class="describe">
<dt>
<code class="sig-name descname">url</code></dt>
<dd><p>Absolute referrer URL.</p>
</dd></dl>

<dl class="describe">
<dt>
<code class="sig-name descname">time</code></dt>
<dd><p><em>datetime</em> of the referral.</p>
</dd></dl>

</section>
<section id="referrals">
<span id="id15"></span><h3><span class="section-number">2.14.4. </span>Referrals<a class="headerlink" href="#referrals" title="Permalink to this headline">¶</a></h3>
<p><a class="reference internal" href="#referral"><span class="std std-ref">Referral</span></a> <a class="reference internal" href="#collection"><span class="std std-ref">Collection</span></a>, latest first.</p>
<p>Only staff members can query the referrals.</p>
<dl class="get">
<dt id="get--api-(resource-url)?slice">
<code class="sig-name descname">GET </code><code class="sig-name descname">/api/(resource-url)?slice</code><a class="headerlink" href="#get--api-(resource-url)?slice" title="Permalink to this definition">¶</a></dt>
<dd><p>Query the collection for a <em>slice</em> of items.</p>
<p><em>slice</em> is a <em>slice string</em>. The maximum number of items is limited to a <em>limit</em> of 100, i.e.
<em>stop</em> is capped at <em>start</em> + <em>limit</em>. Defaults to <code class="docutils literal notranslate"><span class="pre">:</span></code>.</p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">/api/cats</span></code> (which is equivalent to <code class="docutils literal notranslate"><span class="pre">/api/cats?slice=:</span></code> or
<code class="docutils literal notranslate"><span class="pre">/api/cats?slice=0:100</span></code>) returns the first hundred items and <code class="docutils literal notranslate"><span class="pre">/api/cats?slice=10:20</span></code> returns
the items from index 10 up to including 19.</p>
</dd></dl>

<dl class="post">
<dt id="post--api-analytics-referrals">
<code class="sig-name descname">POST </code><code class="sig-name descname">/api/analytics/referrals</code><a class="headerlink" href="#post--api-analytics-referrals" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal notranslate"><span class="pre">{url}</span></code></p>
<p>Record a <a class="reference internal" href="#referral"><span class="std std-ref">Referral</span></a> from <em>url</em> and return it.</p>
</dd></dl>

<dl class="get">
<dt id="get--api-analytics-referrals-summary?period">
<code class="sig-name descname">GET </code><code class="sig-name descname">/api/analytics/referrals/summary?period</code><a class="headerlink" href="#get--api-analytics-referrals-summary?period" title="Permalink to this definition">¶</a></dt>
<dd><p>Get a referral summary for the given time <em>period</em>.</p>
<p><em>period</em> is a simple ISO 8601 time interval string and defaults to the last 7 days.</p>
<p>The summary is an object <code class="docutils literal notranslate"><span class="pre">{referrers}</span></code>, where <em>referrers</em> is a sorted array of objects
<code class="docutils literal notranslate"><span class="pre">{url,</span> <span class="pre">count}</span></code> with the referrer <em>url</em> and <em>count</em> of occurrences.</p>
<p>Permission: Staff members.</p>
</dd></dl>

</section>
</section>
<section id="files">
<h2><span class="section-number">2.15. </span>Files<a class="headerlink" href="#files" title="Permalink to this headline">¶</a></h2>
<p>To upload a file, <code class="docutils literal notranslate"><span class="pre">POST</span></code> to <code class="docutils literal notranslate"><span class="pre">/files</span></code>. Supported file types are <code class="docutils literal notranslate"><span class="pre">image/bmp</span></code>, <code class="docutils literal notranslate"><span class="pre">image/gif</span></code>,
<code class="docutils literal notranslate"><span class="pre">image/jpeg</span></code>, <code class="docutils literal notranslate"><span class="pre">image/png</span></code> and <code class="docutils literal notranslate"><span class="pre">image/svg+xml</span></code>.</p>
</section>
<section id="errors">
<h2><span class="section-number">2.16. </span>Errors<a class="headerlink" href="#errors" title="Permalink to this headline">¶</a></h2>
<section id="valueerror">
<span id="id16"></span><h3><span class="section-number">2.16.1. </span>ValueError<a class="headerlink" href="#valueerror" title="Permalink to this headline">¶</a></h3>
<p>Returned for value-related errors.</p>
</section>
<section id="inputerror">
<span id="id17"></span><h3><span class="section-number">2.16.2. </span>InputError<a class="headerlink" href="#inputerror" title="Permalink to this headline">¶</a></h3>
<p>Returned if the input to an endpoint contains one or more arguments with an invalid value.</p>
<p>InputError is a <a class="reference internal" href="#valueerror"><span class="std std-ref">ValueError</span></a> with <em>code</em> set to <code class="docutils literal notranslate"><span class="pre">input_invalid</span></code>.</p>
<dl class="describe">
<dt>
<code class="sig-name descname">errors</code></dt>
<dd><p>Map of argument names / error strings for every problematic argument of the input.</p>
</dd></dl>

</section>
<section id="notfounderror">
<span id="id18"></span><h3><span class="section-number">2.16.3. </span>NotFoundError<a class="headerlink" href="#notfounderror" title="Permalink to this headline">¶</a></h3>
<p>Returned if a requested endpoint does not exist.</p>
</section>
<section id="authenticationerror">
<span id="id19"></span><h3><span class="section-number">2.16.4. </span>AuthenticationError<a class="headerlink" href="#authenticationerror" title="Permalink to this headline">¶</a></h3>
<p>Returned if user authentication fails.</p>
</section>
<section id="permissionerror">
<span id="id20"></span><h3><span class="section-number">2.16.5. </span>PermissionError<a class="headerlink" href="#permissionerror" title="Permalink to this headline">¶</a></h3>
<p>Returned if the current user is not allowed to perform an action.</p>
</section>
<section id="ratelimiterror">
<span id="id21"></span><h3><span class="section-number">2.16.6. </span>RateLimitError<a class="headerlink" href="#ratelimiterror" title="Permalink to this headline">¶</a></h3>
<p>Returned if the current client exceeds the allowed rate limit for an operation.</p>
</section>
<section id="communicationerror">
<span id="id22"></span><h3><span class="section-number">2.16.7. </span>CommunicationError<a class="headerlink" href="#communicationerror" title="Permalink to this headline">¶</a></h3>
<p>Returned if communication with a third party fails.</p>
</section>
<section id="analysiserror">
<span id="id23"></span><h3><span class="section-number">2.16.8. </span>AnalysisError<a class="headerlink" href="#analysiserror" title="Permalink to this headline">¶</a></h3>
<p>Returned if analyzing a web resource fails.</p>
</section>
<section id="noresourceerror">
<span id="id24"></span><h3><span class="section-number">2.16.9. </span>NoResourceError<a class="headerlink" href="#noresourceerror" title="Permalink to this headline">¶</a></h3>
<p><a class="reference internal" href="#analysiserror"><span class="std std-ref">AnalysisError</span></a> returned if there is no resource at the URL to analyze.</p>
</section>
<section id="forbiddenresourceerror">
<span id="id25"></span><h3><span class="section-number">2.16.10. </span>ForbiddenResourceError<a class="headerlink" href="#forbiddenresourceerror" title="Permalink to this headline">¶</a></h3>
<p><a class="reference internal" href="#analysiserror"><span class="std std-ref">AnalysisError</span></a> returned if access to the resource subject to analysis is forbidden.</p>
</section>
<section id="brokenresourceerror">
<span id="borkenresourceerror"></span><h3><span class="section-number">2.16.11. </span>BrokenResourceError<a class="headerlink" href="#brokenresourceerror" title="Permalink to this headline">¶</a></h3>
<p><a class="reference internal" href="#analysiserror"><span class="std std-ref">AnalysisError</span></a> returned if the resource subject to analysis is broken.</p>
</section>
</section>
<section id="listling">
<span id="id26"></span><h2><span class="section-number">2.17. </span>Listling<a class="headerlink" href="#listling" title="Permalink to this headline">¶</a></h2>
<p>Listling application.</p>
<dl class="get">
<dt id="get--api-settings">
<code class="sig-name descname">GET </code><code class="sig-name descname">/api/settings</code><a class="headerlink" href="#get--api-settings" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the settings.</p>
</dd></dl>

<dl class="get">
<dt id="get--api-activity">
<code class="sig-name descname">GET </code><code class="sig-name descname">/api/activity</code><a class="headerlink" href="#get--api-activity" title="Permalink to this definition">¶</a></dt>
<dd><p>Global <a class="reference internal" href="#activity"><span class="std std-ref">Activity</span></a> feed.</p>
</dd></dl>

</section>
<section id="user">
<span id="id27"></span><h2><span class="section-number">2.18. </span>User<a class="headerlink" href="#user" title="Permalink to this headline">¶</a></h2>
<p>Listling user.</p>
<p>User is editable by the user oneself.</p>
<dl class="describe">
<dt>
<code class="sig-name descname">id</code></dt>
<dd><p>Unique ID of the object.</p>
</dd></dl>

<dl class="describe">
<dt>
<code class="sig-name descname">authors</code></dt>
<dd><p><a class="reference internal" href="#user"><span class="std std-ref">User</span></a> s who edited the object.</p>
</dd></dl>

<dl class="describe">
<dt>
<code class="sig-name descname">name</code></dt>
<dd><p>Name or nick name.</p>
</dd></dl>

<dl class="describe">
<dt>
<code class="sig-name descname">email</code></dt>
<dd><p>Email address, being a single line string. May be <code class="docutils literal notranslate"><span class="pre">None</span></code>. Visible only to the user oneself.</p>
</dd></dl>

<dl class="describe">
<dt>
<code class="sig-name descname">create_time</code></dt>
<dd><p>Time the user account was created. Visible only to the user oneself.</p>
</dd></dl>

<dl class="describe">
<dt>
<code class="sig-name descname">authenticate_time</code></dt>
<dd><p>Time the user last authenticated. Visible only to the user oneself.</p>
</dd></dl>

<dl class="attribute">
<dt>
<code class="sig-name descname">devices</code></dt>
<dd><p>Registered user <a class="reference internal" href="#userdevices"><span class="std std-ref">Devices</span></a>.</p>
</dd></dl>

<dl class="describe">
<dt>
<code class="sig-name descname">lists</code></dt>
<dd><p><a class="reference internal" href="#userlists"><span class="std std-ref">Lists</span></a> of the user.</p>
</dd></dl>

</section>
<section id="users">
<span id="id28"></span><h2><span class="section-number">2.19. </span>Users<a class="headerlink" href="#users" title="Permalink to this headline">¶</a></h2>
<dl class="get">
<dt id="get--api-users-(id)">
<code class="sig-name descname">GET </code><code class="sig-name descname">/api/users/</code><span class="sig-paren">(</span><em class="sig-param">id</em><span class="sig-paren">)</span><a class="headerlink" href="#get--api-users-(id)" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the user given by <em>id</em>.</p>
</dd></dl>

<dl class="post">
<dt id="post--api-(object-url)">
<code class="sig-name descname">POST </code><code class="sig-name descname">/api/(object-url)</code><a class="headerlink" href="#post--api-(object-url)" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal notranslate"><span class="pre">{attrs...}</span></code></p>
<p>Edit the attributes given by <em>attrs</em> and return the updated object.</p>
<p>A <em>trashed</em> (deleted) object cannot be edited. In this case a <a class="reference internal" href="#valueerror"><span class="std std-ref">ValueError</span></a>
(<cite>object_trashed</cite>) is returned.</p>
<p>Permission: Authenticated users.</p>
</dd></dl>

<dl class="post">
<dt id="post--api-users-(id)-set-email">
<code class="sig-name descname">POST </code><code class="sig-name descname">/api/users/</code><span class="sig-paren">(</span><em class="sig-param">id</em><span class="sig-paren">)</span><code class="sig-name descname">/set-email</code><a class="headerlink" href="#post--api-users-(id)-set-email" title="Permalink to this definition">¶</a></dt>
<dd><p>{“email”}</p>
<p>Start to set the user’s <em>email</em> address.</p>
<p>A third party authentication via the email provider (as layed out in <a class="reference internal" href="#authrequest"><span class="std std-ref">AuthRequest</span></a>) is
triggered and a corresponding <a class="reference internal" href="#authrequest"><span class="std std-ref">AuthRequest</span></a> is returned. To finish setting the email address
use <a class="reference internal" href="#post--api-users-(id)-finish-set-email" title="POST /api/users/(id)/finish-set-email"><code class="xref http http-post docutils literal notranslate"><span class="pre">POST</span> <span class="pre">/api/users/(id)/finish-set-email</span></code></a>.</p>
<p>Permission: The user oneself.</p>
</dd></dl>

<dl class="post">
<dt id="post--api-users-(id)-finish-set-email">
<code class="sig-name descname">POST </code><code class="sig-name descname">/api/users/</code><span class="sig-paren">(</span><em class="sig-param">id</em><span class="sig-paren">)</span><code class="sig-name descname">/finish-set-email</code><a class="headerlink" href="#post--api-users-(id)-finish-set-email" title="Permalink to this definition">¶</a></dt>
<dd><p>{“auth_request_id”, “auth”}</p>
<p>Finish setting the user’s <em>email</em> address and return the user.</p>
<p><em>auth</em> is the authentication code, resulting from the <a class="reference internal" href="#authrequest"><span class="std std-ref">AuthRequest</span></a> with <em>auth_request_id</em>,
to be verified. If the verification fails, a <a class="reference internal" href="#valueerror"><span class="std std-ref">ValueError</span></a> (<code class="docutils literal notranslate"><span class="pre">auth_invalid</span></code>) is returned. If
the given email address is already associated with another user, a <a class="reference internal" href="#valueerror"><span class="std std-ref">ValueError</span></a>
(<code class="docutils literal notranslate"><span class="pre">email_duplicate</span></code>) is returned.</p>
<p>Permission: The user oneself.</p>
</dd></dl>

<dl class="post">
<dt id="post--api-users-(id)-remove-email">
<code class="sig-name descname">POST </code><code class="sig-name descname">/api/users/</code><span class="sig-paren">(</span><em class="sig-param">id</em><span class="sig-paren">)</span><code class="sig-name descname">/remove-email</code><a class="headerlink" href="#post--api-users-(id)-remove-email" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove the user’s current <em>email</em> address and return the user.</p>
<p>If the user’s <em>email</em> is not set, a <a class="reference internal" href="#valueerror"><span class="std std-ref">ValueError</span></a> (<code class="docutils literal notranslate"><span class="pre">user_no_email</span></code>) is returned.</p>
<p>Permission: The user oneself.</p>
</dd></dl>

<section id="userdevices">
<span id="id29"></span><h3><span class="section-number">2.19.1. </span>Devices<a class="headerlink" href="#userdevices" title="Permalink to this headline">¶</a></h3>
<p>Collection of registered user <a class="reference internal" href="#device"><span class="std std-ref">Device</span></a> s.</p>
<dl class="get">
<dt id="get--api-(resource-url)?slice">
<code class="sig-name descname">GET </code><code class="sig-name descname">/api/(resource-url)?slice</code><a class="headerlink" href="#get--api-(resource-url)?slice" title="Permalink to this definition">¶</a></dt>
<dd><p>Query the collection for a <em>slice</em> of items.</p>
<p><em>slice</em> is a <em>slice string</em>. The maximum number of items is limited to a <em>limit</em> of 100, i.e.
<em>stop</em> is capped at <em>start</em> + <em>limit</em>. Defaults to <code class="docutils literal notranslate"><span class="pre">:</span></code>.</p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">/api/cats</span></code> (which is equivalent to <code class="docutils literal notranslate"><span class="pre">/api/cats?slice=:</span></code> or
<code class="docutils literal notranslate"><span class="pre">/api/cats?slice=0:100</span></code>) returns the first hundred items and <code class="docutils literal notranslate"><span class="pre">/api/cats?slice=10:20</span></code> returns
the items from index 10 up to including 19.</p>
</dd></dl>

</section>
<section id="lists">
<span id="userlists"></span><h3><span class="section-number">2.19.2. </span>Lists<a class="headerlink" href="#lists" title="Permalink to this headline">¶</a></h3>
<p><a class="reference internal" href="#list"><span class="std std-ref">List</span></a> <a class="reference internal" href="#collection"><span class="std std-ref">Collection</span></a> of the user, ordered by time added, latest first.</p>
<p>Lists created by the user are added automatically.</p>
<dl class="describe">
<dt>
<code class="sig-name descname">count</code></dt>
<dd><p>Overall number of items in the collection.</p>
</dd></dl>

<dl class="describe">
<dt>
<code class="sig-name descname">items</code></dt>
<dd><p>Array of queried items. May be undefined.</p>
</dd></dl>

<dl class="describe">
<dt>
<code class="sig-name descname">slice</code></dt>
<dd><p>Slice corresponding to the queried items. May be undefined.</p>
</dd></dl>

<dl class="get">
<dt id="get--api-(resource-url)?slice">
<code class="sig-name descname">GET </code><code class="sig-name descname">/api/(resource-url)?slice</code><a class="headerlink" href="#get--api-(resource-url)?slice" title="Permalink to this definition">¶</a></dt>
<dd><p>Query the collection for a <em>slice</em> of items.</p>
<p><em>slice</em> is a <em>slice string</em>. The maximum number of items is limited to a <em>limit</em> of 100, i.e.
<em>stop</em> is capped at <em>start</em> + <em>limit</em>. Defaults to <code class="docutils literal notranslate"><span class="pre">:</span></code>.</p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">/api/cats</span></code> (which is equivalent to <code class="docutils literal notranslate"><span class="pre">/api/cats?slice=:</span></code> or
<code class="docutils literal notranslate"><span class="pre">/api/cats?slice=0:100</span></code>) returns the first hundred items and <code class="docutils literal notranslate"><span class="pre">/api/cats?slice=10:20</span></code> returns
the items from index 10 up to including 19.</p>
</dd></dl>

<dl class="post">
<dt id="post--users-(id)-lists">
<code class="sig-name descname">POST </code><code class="sig-name descname">/users/</code><span class="sig-paren">(</span><em class="sig-param">id</em><span class="sig-paren">)</span><code class="sig-name descname">/lists</code><a class="headerlink" href="#post--users-(id)-lists" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal notranslate"><span class="pre">{&quot;list_id&quot;}</span></code></p>
<p>Add the list with <em>list_id</em>.</p>
<p>If the list is already in the collection, the associated time is updated. If there is no list
with <em>list_id</em>, a <a class="reference internal" href="#valueerror"><span class="std std-ref">ValueError</span></a> is returned.</p>
<p>Permission: The user oneself.</p>
</dd></dl>

<dl class="delete">
<dt id="delete--users-(id)-lists-(list-id)">
<code class="sig-name descname">DELETE </code><code class="sig-name descname">/users/</code><span class="sig-paren">(</span><em class="sig-param">id</em><span class="sig-paren">)</span><code class="sig-name descname">/lists/(list-id)</code><a class="headerlink" href="#delete--users-(id)-lists-(list-id)" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove the list with <em>list-id</em>.</p>
<p>If the user is the list owner, a <a class="reference internal" href="#valueerror"><span class="std std-ref">ValueError</span></a> is returned.</p>
<p>Permission: The user oneself.</p>
</dd></dl>

</section>
</section>
<section id="settings">
<span id="id30"></span><h2><span class="section-number">2.20. </span>Settings<a class="headerlink" href="#settings" title="Permalink to this headline">¶</a></h2>
<p>App settings.</p>
<dl class="describe">
<dt>
<code class="sig-name descname">id</code></dt>
<dd><p>Unique ID of the object.</p>
</dd></dl>

<dl class="describe">
<dt>
<code class="sig-name descname">authors</code></dt>
<dd><p><a class="reference internal" href="#user"><span class="std std-ref">User</span></a> s who edited the object.</p>
</dd></dl>

<dl class="describe">
<dt>
<code class="sig-name descname">title</code></dt>
<dd><p>Site title.</p>
</dd></dl>

<dl class="describe">
<dt>
<code class="sig-name descname">icon</code></dt>
<dd><p>URL of the site icon. May be <code class="docutils literal notranslate"><span class="pre">null</span></code>.</p>
</dd></dl>

<dl class="describe">
<dt>
<code class="sig-name descname">icon_small</code></dt>
<dd><p>URL of the site icon optimized for small scale. Should be 16 pixels square. May be <code class="docutils literal notranslate"><span class="pre">null</span></code>.</p>
</dd></dl>

<dl class="describe">
<dt>
<code class="sig-name descname">icon_large</code></dt>
<dd><p>URL of the site icon optimized for large scale. Should be 512 pixels square. May be <code class="docutils literal notranslate"><span class="pre">null</span></code>.</p>
</dd></dl>

<dl class="describe">
<dt>
<code class="sig-name descname">provider_name</code></dt>
<dd><p>Service provider name. May be <code class="docutils literal notranslate"><span class="pre">null</span></code>.</p>
</dd></dl>

<dl class="describe">
<dt>
<code class="sig-name descname">provider_url</code></dt>
<dd><p>URL of the website of the service provider. May be <code class="docutils literal notranslate"><span class="pre">null</span></code>.</p>
</dd></dl>

<dl class="describe">
<dt>
<code class="sig-name descname">provider_description</code></dt>
<dd><p>Short polyglot description of the service provider, which can be read as an addendum to the
<em>provider_name</em>.</p>
</dd></dl>

<dl class="describe">
<dt>
<code class="sig-name descname">feedback_url</code></dt>
<dd><p>URL of the feedback site / help desk. May be <code class="docutils literal notranslate"><span class="pre">null</span></code>.</p>
</dd></dl>

<dl class="describe">
<dt>
<code class="sig-name descname">staff</code></dt>
<dd><p>Staff users.</p>
</dd></dl>

<dl class="describe">
<dt>
<code class="sig-name descname">push_vapid_public_key</code></dt>
<dd><p>VAPID public key used for sending device notifications.</p>
</dd></dl>

<dl class="post">
<dt id="post--api-(object-url)">
<code class="sig-name descname">POST </code><code class="sig-name descname">/api/(object-url)</code><a class="headerlink" href="#post--api-(object-url)" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal notranslate"><span class="pre">{attrs...}</span></code></p>
<p>Edit the attributes given by <em>attrs</em> and return the updated object.</p>
<p>A <em>trashed</em> (deleted) object cannot be edited. In this case a <a class="reference internal" href="#valueerror"><span class="std std-ref">ValueError</span></a>
(<cite>object_trashed</cite>) is returned.</p>
<p>Permission: Authenticated users.</p>
</dd></dl>

</section>
<section id="id31">
<span id="id32"></span><h2><span class="section-number">2.21. </span>Lists<a class="headerlink" href="#id31" title="Permalink to this headline">¶</a></h2>
<dl class="post">
<dt id="post--api-lists">
<code class="sig-name descname">POST </code><code class="sig-name descname">/api/lists</code><a class="headerlink" href="#post--api-lists" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal notranslate"><span class="pre">{&quot;use_case&quot;:</span> <span class="pre">&quot;simple&quot;}</span></code></p>
<p>Create a <a class="reference internal" href="#list"><span class="std std-ref">List</span></a> for the given <em>use_case</em> and return it.</p>
<p>Available <em>use_case</em> s are <code class="docutils literal notranslate"><span class="pre">simple</span></code>, <code class="docutils literal notranslate"><span class="pre">todo</span></code>, <code class="docutils literal notranslate"><span class="pre">poll</span></code>, <code class="docutils literal notranslate"><span class="pre">shopping</span></code>, <code class="docutils literal notranslate"><span class="pre">meeting-agenda</span></code>,
<code class="docutils literal notranslate"><span class="pre">playlist</span></code> and <code class="docutils literal notranslate"><span class="pre">map</span></code>.</p>
<p>Permission: Authenticated users.</p>
</dd></dl>

<dl class="post">
<dt id="post--api-lists-create-example">
<code class="sig-name descname">POST </code><code class="sig-name descname">/api/lists/create-example</code><a class="headerlink" href="#post--api-lists-create-example" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal notranslate"><span class="pre">{&quot;use_case&quot;}</span></code></p>
<p>Create an example <a class="reference internal" href="#list"><span class="std std-ref">List</span></a> for the given <em>use_case</em> and return it.</p>
<p>For available <em>use_cases</em> see <a class="reference internal" href="#post--api-lists" title="POST /api/lists"><code class="xref http http-post docutils literal notranslate"><span class="pre">POST</span> <span class="pre">/api/lists</span></code></a>, excluding <code class="docutils literal notranslate"><span class="pre">simple</span></code>.</p>
<p>Permission: Authenticated users.</p>
</dd></dl>

<dl class="get">
<dt id="get--api-lists-(id)">
<code class="sig-name descname">GET </code><code class="sig-name descname">/api/lists/</code><span class="sig-paren">(</span><em class="sig-param">id</em><span class="sig-paren">)</span><a class="headerlink" href="#get--api-lists-(id)" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the <a class="reference internal" href="#list"><span class="std std-ref">List</span></a> given by <em>id</em>.</p>
</dd></dl>

</section>
<section id="list">
<span id="id33"></span><h2><span class="section-number">2.22. </span>List<a class="headerlink" href="#list" title="Permalink to this headline">¶</a></h2>
<dl class="describe">
<dt>
<code class="sig-name descname">id</code></dt>
<dd><p>Unique ID of the object.</p>
</dd></dl>

<dl class="describe">
<dt>
<code class="sig-name descname">authors</code></dt>
<dd><p><a class="reference internal" href="#user"><span class="std std-ref">User</span></a> s who edited the object.</p>
</dd></dl>

<dl class="describe">
<dt>
<code class="sig-name descname">title</code></dt>
<dd><p>Title of the list.</p>
</dd></dl>

<dl class="describe">
<dt>
<code class="sig-name descname">description</code></dt>
<dd><p>Description of the list as <em>markup text</em>. May be <code class="docutils literal notranslate"><span class="pre">null</span></code>.</p>
</dd></dl>

<dl class="describe">
<dt>
<code class="sig-name descname">order</code></dt>
<dd><p>Key by which items are ordered. Available keys are <code class="docutils literal notranslate"><span class="pre">title</span></code>. May be <code class="docutils literal notranslate"><span class="pre">null</span></code>.</p>
</dd></dl>

<dl class="describe">
<dt>
<code class="sig-name descname">features</code></dt>
<dd><p>Set of features enabled for the list.</p>
<p>Available features are <code class="docutils literal notranslate"><span class="pre">check</span></code>, <code class="docutils literal notranslate"><span class="pre">assign</span></code>, <code class="docutils literal notranslate"><span class="pre">vote</span></code>, <code class="docutils literal notranslate"><span class="pre">value</span></code>, <code class="docutils literal notranslate"><span class="pre">time</span></code>, <code class="docutils literal notranslate"><span class="pre">location</span></code> and
<code class="docutils literal notranslate"><span class="pre">play</span></code>.</p>
</dd></dl>

<dl class="describe">
<dt>
<code class="sig-name descname">assign_by_default</code></dt>
<dd><p>Indicates if the author is assigned to new items by default.</p>
</dd></dl>

<dl class="describe">
<dt>
<code class="sig-name descname">value_unit</code></dt>
<dd><p>Unit of <a class="reference internal" href="#item"><span class="std std-ref">Item</span></a> <em>value</em> s. May be <code class="docutils literal notranslate"><span class="pre">null</span></code>.</p>
</dd></dl>

<dl class="describe">
<dt>
<code class="sig-name descname">mode</code></dt>
<dd><p>List mode, describing how users work with the list. In <code class="docutils literal notranslate"><span class="pre">collaborate</span></code> mode, users collaborate on
the list. In <code class="docutils literal notranslate"><span class="pre">view</span></code> mode, users only view the list.</p>
<p>The following permissions apply:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">collaborate</span></code>: Authenticated users may modify <a class="footnote-reference brackets" href="#id36" id="id34">1</a> the list and modify <a class="footnote-reference brackets" href="#id37" id="id35">2</a> items</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">view</span></code>: None</p></li>
</ul>
<p>List owners always have full permissions.</p>
<dl class="footnote brackets">
<dt class="label" id="id36"><span class="brackets"><a class="fn-backref" href="#id34">1</a></span></dt>
<dd><p>Edit the list and create and move items</p>
</dd>
<dt class="label" id="id37"><span class="brackets"><a class="fn-backref" href="#id35">2</a></span></dt>
<dd><p>Edit, trash, restore, check, uncheck, assign to and unassign from items</p>
</dd>
</dl>
</dd></dl>

<dl class="describe">
<dt>
<code class="sig-name descname">item_template</code></dt>
<dd><p>Template for <em>text</em> content of new items as <em>markup text</em>. May be <code class="docutils literal notranslate"><span class="pre">null</span></code>.</p>
</dd></dl>

<dl class="describe">
<dt>
<code class="sig-name descname">value_summary_ids</code></dt>
<dd><p>Summary table for <a class="reference internal" href="#item"><span class="std std-ref">Item</span></a> <em>value</em> s, referencing <a class="reference internal" href="#user"><span class="std std-ref">User</span></a> s by <em>id</em>. See <em>value_summary</em>.</p>
</dd></dl>

<dl class="describe">
<dt>
<code class="sig-name descname">value_summary</code></dt>
<dd><p>Summary table for <a class="reference internal" href="#item"><span class="std std-ref">Item</span></a> <em>value</em> s.</p>
<p>If <em>features</em> <code class="docutils literal notranslate"><span class="pre">value</span></code> is enabled, <code class="docutils literal notranslate"><span class="pre">total</span></code> holds the sum over all items.</p>
<p>Additionally, if <em>features</em> <code class="docutils literal notranslate"><span class="pre">assign</span></code> is enabled, the share of each assigned <a class="reference internal" href="#user"><span class="std std-ref">User</span></a> is
included. If an item has multiple assignees, its value is split equally between them.</p>
</dd></dl>

<dl class="describe">
<dt>
<code class="sig-name descname">owners</code></dt>
<dd><p>List <a class="reference internal" href="#listowners"><span class="std std-ref">Owners</span></a>.</p>
</dd></dl>

<dl class="describe">
<dt>
<code class="sig-name descname">items</code></dt>
<dd><p>List <a class="reference internal" href="#listitems"><span class="std std-ref">Items</span></a>.</p>
</dd></dl>

<dl class="describe">
<dt>
<code class="sig-name descname">activity</code></dt>
<dd><p>List <a class="reference internal" href="#activity"><span class="std std-ref">Activity</span></a> feed.</p>
</dd></dl>

<dl class="post">
<dt id="post--api-(object-url)">
<code class="sig-name descname">POST </code><code class="sig-name descname">/api/(object-url)</code><a class="headerlink" href="#post--api-(object-url)" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal notranslate"><span class="pre">{attrs...}</span></code></p>
<p>Edit the attributes given by <em>attrs</em> and return the updated object.</p>
<p>A <em>trashed</em> (deleted) object cannot be edited. In this case a <a class="reference internal" href="#valueerror"><span class="std std-ref">ValueError</span></a>
(<cite>object_trashed</cite>) is returned.</p>
<p>Permission: Authenticated users.</p>
</dd></dl>

<p>Events:</p>
<dl class="describe">
<dt>
<code class="sig-name descname">item-assignees-assign</code></dt>
<dd><p>Published when a <a class="reference internal" href="#user"><span class="std std-ref">User</span></a> <em>assignee</em> has been assigned to an item.</p>
</dd></dl>

<dl class="describe">
<dt>
<code class="sig-name descname">item-assignees-unassign</code></dt>
<dd><p>Published when a <a class="reference internal" href="#user"><span class="std std-ref">User</span></a> <em>assignee</em> has been unassigned from an item.</p>
</dd></dl>

<dl class="describe">
<dt>
<code class="sig-name descname">item-votes-vote</code></dt>
<dd><p>Published when an item has been voted for.</p>
</dd></dl>

<dl class="describe">
<dt>
<code class="sig-name descname">item-votes-unvote</code></dt>
<dd><p>Published when an item has been unvoted.</p>
</dd></dl>

<section id="owners">
<span id="listowners"></span><h3><span class="section-number">2.22.1. </span>Owners<a class="headerlink" href="#owners" title="Permalink to this headline">¶</a></h3>
<p><a class="reference internal" href="#collection"><span class="std std-ref">Collection</span></a> of <a class="reference internal" href="#user"><span class="std std-ref">User</span></a> s who hold ownership of an object.</p>
<p>The object has at least one owner.</p>
<p>Events:</p>
<dl class="describe">
<dt>
<code class="sig-name descname">object-owners-grant</code></dt>
<dd><p>Published when ownership of the object has been granted to a user.</p>
</dd></dl>

<dl class="describe">
<dt>
<code class="sig-name descname">object-owners-revoke</code></dt>
<dd><p>Published when ownership of the object has been revoked from a user.</p>
</dd></dl>

<dl class="get">
<dt id="get--api-(resource-url)?slice">
<code class="sig-name descname">GET </code><code class="sig-name descname">/api/(resource-url)?slice</code><a class="headerlink" href="#get--api-(resource-url)?slice" title="Permalink to this definition">¶</a></dt>
<dd><p>Query the collection for a <em>slice</em> of items.</p>
<p><em>slice</em> is a <em>slice string</em>. The maximum number of items is limited to a <em>limit</em> of 100, i.e.
<em>stop</em> is capped at <em>start</em> + <em>limit</em>. Defaults to <code class="docutils literal notranslate"><span class="pre">:</span></code>.</p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">/api/cats</span></code> (which is equivalent to <code class="docutils literal notranslate"><span class="pre">/api/cats?slice=:</span></code> or
<code class="docutils literal notranslate"><span class="pre">/api/cats?slice=0:100</span></code>) returns the first hundred items and <code class="docutils literal notranslate"><span class="pre">/api/cats?slice=10:20</span></code> returns
the items from index 10 up to including 19.</p>
</dd></dl>

<p><em>user_owner</em> indicates if the user is owner of the object.</p>
<dl class="post">
<dt id="post--api-(owners-url)">
<code class="sig-name descname">POST </code><code class="sig-name descname">/api/(owners-url)</code><a class="headerlink" href="#post--api-(owners-url)" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal notranslate"><span class="pre">{user_id}</span></code></p>
<p>Grant ownership of the object to the <a class="reference internal" href="#user"><span class="std std-ref">User</span></a> with <em>user_id</em>.</p>
<p>Permission: Object owners.</p>
</dd></dl>

<dl class="delete">
<dt id="delete--api-(owners-url)-(id)">
<code class="sig-name descname">DELETE </code><code class="sig-name descname">/api/(owners-url)/</code><span class="sig-paren">(</span><em class="sig-param">id</em><span class="sig-paren">)</span><a class="headerlink" href="#delete--api-(owners-url)-(id)" title="Permalink to this definition">¶</a></dt>
<dd><p>Revoke ownership of the object from the <a class="reference internal" href="#user"><span class="std std-ref">User</span></a> with <em>id</em>.</p>
<p>Permission: Object owners.</p>
</dd></dl>

<section id="ownersevent">
<h4><span class="section-number">2.22.1.1. </span>OwnersEvent<a class="headerlink" href="#ownersevent" title="Permalink to this headline">¶</a></h4>
<p><a class="reference internal" href="#event"><span class="std std-ref">Event</span></a> related to Owners.</p>
<dl class="describe">
<dt>
<code class="sig-name descname">owner_id</code></dt>
<dd><p>ID of the affected <a class="reference internal" href="#user"><span class="std std-ref">User</span></a>.</p>
</dd></dl>

<dl class="describe">
<dt>
<code class="sig-name descname">owner</code></dt>
<dd><p>Affected <a class="reference internal" href="#user"><span class="std std-ref">User</span></a>.</p>
</dd></dl>

</section>
</section>
<section id="listusers">
<span id="id38"></span><h3><span class="section-number">2.22.2. </span>Users<a class="headerlink" href="#listusers" title="Permalink to this headline">¶</a></h3>
<dl class="get">
<dt id="get--api-lists-(id)-users?name=">
<code class="sig-name descname">GET </code><code class="sig-name descname">/api/lists/</code><span class="sig-paren">(</span><em class="sig-param">id</em><span class="sig-paren">)</span><code class="sig-name descname">/users?name=</code><a class="headerlink" href="#get--api-lists-(id)-users?name=" title="Permalink to this definition">¶</a></dt>
<dd><p>Query users who interacted with the list and (partially) match <em>name</em>.</p>
<p>A maximum of 10 items is returned.</p>
</dd></dl>

</section>
<section id="items">
<span id="listitems"></span><h3><span class="section-number">2.22.3. </span>Items<a class="headerlink" href="#items" title="Permalink to this headline">¶</a></h3>
<p>List <a class="reference internal" href="#item"><span class="std std-ref">Item</span></a> s in <a class="reference internal" href="#list"><span class="std std-ref">List</span></a> <em>order</em>.</p>
<dl class="get">
<dt id="get--api-(resource-url)?slice">
<code class="sig-name descname">GET </code><code class="sig-name descname">/api/(resource-url)?slice</code><a class="headerlink" href="#get--api-(resource-url)?slice" title="Permalink to this definition">¶</a></dt>
<dd><p>Query the collection for a <em>slice</em> of items.</p>
<p><em>slice</em> is a <em>slice string</em>. The maximum number of items is limited to a <em>limit</em> of 100, i.e.
<em>stop</em> is capped at <em>start</em> + <em>limit</em>. Defaults to <code class="docutils literal notranslate"><span class="pre">:</span></code>.</p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">/api/cats</span></code> (which is equivalent to <code class="docutils literal notranslate"><span class="pre">/api/cats?slice=:</span></code> or
<code class="docutils literal notranslate"><span class="pre">/api/cats?slice=0:100</span></code>) returns the first hundred items and <code class="docutils literal notranslate"><span class="pre">/api/cats?slice=10:20</span></code> returns
the items from index 10 up to including 19.</p>
</dd></dl>

<dl class="post">
<dt id="post--api-lists-(id)-items">
<code class="sig-name descname">POST </code><code class="sig-name descname">/api/lists/</code><span class="sig-paren">(</span><em class="sig-param">id</em><span class="sig-paren">)</span><code class="sig-name descname">/items</code><a class="headerlink" href="#post--api-lists-(id)-items" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal notranslate"><span class="pre">{&quot;title&quot;,</span> <span class="pre">&quot;text&quot;:</span> <span class="pre">null,</span> <span class="pre">&quot;resource&quot;:</span> <span class="pre">null,</span> <span class="pre">&quot;value&quot;:</span> <span class="pre">null,</span> <span class="pre">&quot;location&quot;:</span> <span class="pre">null}</span></code></p>
<p>Create an <a class="reference internal" href="#item"><span class="std std-ref">Item</span></a> and return it.</p>
<p>Permission: Authenticated users.</p>
</dd></dl>

<dl class="post">
<dt id="post--api-(collection-path)-move">
<code class="sig-name descname">POST </code><code class="sig-name descname">/api/(collection-path)/move</code><a class="headerlink" href="#post--api-(collection-path)-move" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal notranslate"><span class="pre">{&quot;item_id&quot;,</span> <span class="pre">&quot;to_id&quot;}</span></code></p>
<p>Move the item with <em>item_id</em> to the position directly after the item with <em>to_id</em>.</p>
<p>If <em>to_id</em> is <code class="docutils literal notranslate"><span class="pre">null</span></code>, move the item to the top of the collection.</p>
<p>If there is no item with <em>item_id</em> or <em>to_id</em> in the collection, a <a class="reference internal" href="#valueerror"><span class="std std-ref">ValueError</span></a>
(<code class="docutils literal notranslate"><span class="pre">item_not_found</span></code> or <code class="docutils literal notranslate"><span class="pre">to_not_found</span></code>) is returned.</p>
<p>Permission: Authenticated users.</p>
</dd></dl>

</section>
</section>
<section id="item">
<span id="id39"></span><h2><span class="section-number">2.23. </span>Item<a class="headerlink" href="#item" title="Permalink to this headline">¶</a></h2>
<dl class="describe">
<dt>
<code class="sig-name descname">id</code></dt>
<dd><p>Unique ID of the object.</p>
</dd></dl>

<dl class="describe">
<dt>
<code class="sig-name descname">authors</code></dt>
<dd><p><a class="reference internal" href="#user"><span class="std std-ref">User</span></a> s who edited the object.</p>
</dd></dl>

<dl class="describe">
<dt>
<code class="sig-name descname">trashed</code></dt>
<dd><p>Indicates if the object has been trashed (deleted).</p>
</dd></dl>

<dl class="describe">
<dt>
<code class="sig-name descname">text</code></dt>
<dd><p>Text content as <em>markup text</em>. May be <code class="docutils literal notranslate"><span class="pre">null</span></code>.</p>
</dd></dl>

<dl class="describe">
<dt>
<code class="sig-name descname">resource</code></dt>
<dd><p>Web <a class="reference internal" href="#resource"><span class="std std-ref">Resource</span></a> content. May be <code class="docutils literal notranslate"><span class="pre">null</span></code>.</p>
</dd></dl>

<dl class="describe">
<dt>
<code class="sig-name descname">list_id</code></dt>
<dd><p>ID of the list the item belongs to.</p>
</dd></dl>

<dl class="describe">
<dt>
<code class="sig-name descname">title</code></dt>
<dd><p>Title of the item as <em>markup text</em>.</p>
</dd></dl>

<dl class="describe">
<dt>
<code class="sig-name descname">value</code></dt>
<dd><p>Decimal value associated with the item. May be <code class="docutils literal notranslate"><span class="pre">null</span></code>.</p>
</dd></dl>

<dl class="describe">
<dt>
<code class="sig-name descname">time</code></dt>
<dd><p><em>datetime</em> or <em>date</em> of the item. May be <code class="docutils literal notranslate"><span class="pre">null</span></code>.</p>
</dd></dl>

<dl class="describe">
<dt>
<code class="sig-name descname">location</code></dt>
<dd><p><a class="reference internal" href="#location"><span class="std std-ref">Location</span></a> of the item. May be <code class="docutils literal notranslate"><span class="pre">null</span></code>.</p>
</dd></dl>

<dl class="describe">
<dt>
<code class="sig-name descname">checked</code></dt>
<dd><p>Indicates if the item is marked as complete.</p>
</dd></dl>

<dl class="describe">
<dt>
<code class="sig-name descname">assignees</code></dt>
<dd><p>Item <a class="reference internal" href="#itemassignees"><span class="std std-ref">Assignees</span></a>.</p>
</dd></dl>

<dl class="describe">
<dt>
<code class="sig-name descname">votes</code></dt>
<dd><p><a class="reference internal" href="#itemvotes"><span class="std std-ref">Votes</span></a> for the item.</p>
</dd></dl>

</section>
<section id="id40">
<span id="id41"></span><h2><span class="section-number">2.24. </span>Items<a class="headerlink" href="#id40" title="Permalink to this headline">¶</a></h2>
<dl class="get">
<dt id="get--api-items-(id)">
<code class="sig-name descname">GET </code><code class="sig-name descname">/api/items/</code><span class="sig-paren">(</span><em class="sig-param">id</em><span class="sig-paren">)</span><a class="headerlink" href="#get--api-items-(id)" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="get">
<dt id="get--api-lists-(list-id)-items-(id)">
<code class="sig-name descname">GET </code><code class="sig-name descname">/api/lists/(list-id)/items/</code><span class="sig-paren">(</span><em class="sig-param">id</em><span class="sig-paren">)</span><a class="headerlink" href="#get--api-lists-(list-id)-items-(id)" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the <a class="reference internal" href="#item"><span class="std std-ref">Item</span></a> given by <em>id</em>.</p>
<div class="deprecated">
<p><span class="versionmodified deprecated">Deprecated since version 0.39.0: </span>Nested URL.</p>
</div>
</dd></dl>

<dl class="post">
<dt id="post--api-(object-url)">
<code class="sig-name descname">POST </code><code class="sig-name descname">/api/(object-url)</code><a class="headerlink" href="#post--api-(object-url)" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal notranslate"><span class="pre">{attrs...}</span></code></p>
<p>Edit the attributes given by <em>attrs</em> and return the updated object.</p>
<p>A <em>trashed</em> (deleted) object cannot be edited. In this case a <a class="reference internal" href="#valueerror"><span class="std std-ref">ValueError</span></a>
(<cite>object_trashed</cite>) is returned.</p>
<p>Permission: Authenticated users.</p>
</dd></dl>

<dl class="post">
<dt id="post--api-(object-url)-trash">
<code class="sig-name descname">POST </code><code class="sig-name descname">/api/(object-url)/trash</code><a class="headerlink" href="#post--api-(object-url)-trash" title="Permalink to this definition">¶</a></dt>
<dd><p>Trash the object.</p>
<p>If the object is already trashed, nothing happens. A trashed object is permanently deleted after
7 days.</p>
<p>Permission: Authenticated users.</p>
</dd></dl>

<dl class="post">
<dt id="post--api-(object-url)-restore">
<code class="sig-name descname">POST </code><code class="sig-name descname">/api/(object-url)/restore</code><a class="headerlink" href="#post--api-(object-url)-restore" title="Permalink to this definition">¶</a></dt>
<dd><p>Restore the previously trashed object.</p>
<p>If the object is not trashed, nothing happens.</p>
<p>Permission: Authenticated users.</p>
</dd></dl>

<dl class="post">
<dt id="post--api-items-(id)-check">
<code class="sig-name descname">POST </code><code class="sig-name descname">/api/items/</code><span class="sig-paren">(</span><em class="sig-param">id</em><span class="sig-paren">)</span><code class="sig-name descname">/check</code><a class="headerlink" href="#post--api-items-(id)-check" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="post">
<dt id="post--api-lists-(list-id)-items-(id)-check">
<code class="sig-name descname">POST </code><code class="sig-name descname">/api/lists/(list-id)/items/</code><span class="sig-paren">(</span><em class="sig-param">id</em><span class="sig-paren">)</span><code class="sig-name descname">/check</code><a class="headerlink" href="#post--api-lists-(list-id)-items-(id)-check" title="Permalink to this definition">¶</a></dt>
<dd><p>Mark the item as complete.</p>
<p>If the feature <code class="docutils literal notranslate"><span class="pre">check</span></code> is not enabled for the list, a <a class="reference internal" href="#valueerror"><span class="std std-ref">ValueError</span></a> (<cite>feature_disabled</cite>) is
returned.</p>
<p>Permission: Authenticated users.</p>
<div class="deprecated">
<p><span class="versionmodified deprecated">Deprecated since version 0.39.0: </span>Nested URL.</p>
</div>
</dd></dl>

<dl class="post">
<dt id="post--api-items-(id)-uncheck">
<code class="sig-name descname">POST </code><code class="sig-name descname">/api/items/</code><span class="sig-paren">(</span><em class="sig-param">id</em><span class="sig-paren">)</span><code class="sig-name descname">/uncheck</code><a class="headerlink" href="#post--api-items-(id)-uncheck" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="post">
<dt id="post--api-lists-(list-id)-items-(id)-uncheck">
<code class="sig-name descname">POST </code><code class="sig-name descname">/api/lists/(list-id)/items/</code><span class="sig-paren">(</span><em class="sig-param">id</em><span class="sig-paren">)</span><code class="sig-name descname">/uncheck</code><a class="headerlink" href="#post--api-lists-(list-id)-items-(id)-uncheck" title="Permalink to this definition">¶</a></dt>
<dd><p>Mark the item as incomplete.</p>
<p>If the feature <code class="docutils literal notranslate"><span class="pre">check</span></code> is not enabled for the list, a <a class="reference internal" href="#valueerror"><span class="std std-ref">ValueError</span></a> (<cite>feature_disabled</cite>) is
returned.</p>
<p>Permission: Authenticated users.</p>
<div class="deprecated">
<p><span class="versionmodified deprecated">Deprecated since version 0.39.0: </span>Nested URL.</p>
</div>
</dd></dl>

<section id="assignees">
<span id="itemassignees"></span><h3><span class="section-number">2.24.1. </span>Assignees<a class="headerlink" href="#assignees" title="Permalink to this headline">¶</a></h3>
<p><a class="reference internal" href="#collection"><span class="std std-ref">Collection</span></a> of <a class="reference internal" href="#user"><span class="std std-ref">User</span></a> s assigned to the item.</p>
<dl class="get">
<dt id="get--api-(resource-url)?slice">
<code class="sig-name descname">GET </code><code class="sig-name descname">/api/(resource-url)?slice</code><a class="headerlink" href="#get--api-(resource-url)?slice" title="Permalink to this definition">¶</a></dt>
<dd><p>Query the collection for a <em>slice</em> of items.</p>
<p><em>slice</em> is a <em>slice string</em>. The maximum number of items is limited to a <em>limit</em> of 100, i.e.
<em>stop</em> is capped at <em>start</em> + <em>limit</em>. Defaults to <code class="docutils literal notranslate"><span class="pre">:</span></code>.</p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">/api/cats</span></code> (which is equivalent to <code class="docutils literal notranslate"><span class="pre">/api/cats?slice=:</span></code> or
<code class="docutils literal notranslate"><span class="pre">/api/cats?slice=0:100</span></code>) returns the first hundred items and <code class="docutils literal notranslate"><span class="pre">/api/cats?slice=10:20</span></code> returns
the items from index 10 up to including 19.</p>
</dd></dl>

<dl class="post">
<dt id="post--api-items-(id)-assignees">
<code class="sig-name descname">POST </code><code class="sig-name descname">/api/items/</code><span class="sig-paren">(</span><em class="sig-param">id</em><span class="sig-paren">)</span><code class="sig-name descname">/assignees</code><a class="headerlink" href="#post--api-items-(id)-assignees" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="post">
<dt id="post--api-lists-(list-id)-items-(id)-assignees">
<code class="sig-name descname">POST </code><code class="sig-name descname">/api/lists/(list-id)/items/</code><span class="sig-paren">(</span><em class="sig-param">id</em><span class="sig-paren">)</span><code class="sig-name descname">/assignees</code><a class="headerlink" href="#post--api-lists-(list-id)-items-(id)-assignees" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal notranslate"><span class="pre">{assignee_id}</span></code></p>
<p>Assign the <a class="reference internal" href="#user"><span class="std std-ref">User</span></a> with <em>assignee_id</em> to the item.</p>
<p>If <a class="reference internal" href="#list"><span class="std std-ref">List</span></a> <em>features</em> <code class="docutils literal notranslate"><span class="pre">assign</span></code> is disabled, if there is no user with
<em>assignee_id</em> or if the user is already assigned, a <a class="reference internal" href="#valueerror"><span class="std std-ref">ValueError</span></a> is returned.</p>
<p>Permission: See <a class="reference internal" href="#list"><span class="std std-ref">List</span></a> <em>mode</em>.</p>
<div class="deprecated">
<p><span class="versionmodified deprecated">Deprecated since version 0.39.0: </span>Nested URL.</p>
</div>
</dd></dl>

<dl class="delete">
<dt id="delete--api-items-(id)-assignees-(assignee-id)">
<code class="sig-name descname">DELETE </code><code class="sig-name descname">/api/items/</code><span class="sig-paren">(</span><em class="sig-param">id</em><span class="sig-paren">)</span><code class="sig-name descname">/assignees/(assignee-id)</code><a class="headerlink" href="#delete--api-items-(id)-assignees-(assignee-id)" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="delete">
<dt id="delete--api-lists-(list-id)-items-(id)-assignees-(assignee-id)">
<code class="sig-name descname">DELETE </code><code class="sig-name descname">/api/lists/(list-id)/items/</code><span class="sig-paren">(</span><em class="sig-param">id</em><span class="sig-paren">)</span><code class="sig-name descname">/assignees/(assignee-id)</code><a class="headerlink" href="#delete--api-lists-(list-id)-items-(id)-assignees-(assignee-id)" title="Permalink to this definition">¶</a></dt>
<dd><p>Unassign the <a class="reference internal" href="#user"><span class="std std-ref">User</span></a> with <em>assignee-id</em> from the item.</p>
<p>If <a class="reference internal" href="#list"><span class="std std-ref">List</span></a> <em>features</em> <code class="docutils literal notranslate"><span class="pre">assign</span></code> is disabled, a <a class="reference internal" href="#valueerror"><span class="std std-ref">ValueError</span></a> is returned.</p>
<p>Permission: See <a class="reference internal" href="#list"><span class="std std-ref">List</span></a> <em>mode</em>. Authenticated users may unassign themselves.</p>
<div class="deprecated">
<p><span class="versionmodified deprecated">Deprecated since version 0.39.0: </span>Nested URL.</p>
</div>
</dd></dl>

</section>
<section id="votes">
<span id="itemvotes"></span><h3><span class="section-number">2.24.2. </span>Votes<a class="headerlink" href="#votes" title="Permalink to this headline">¶</a></h3>
<p><a class="reference internal" href="#collection"><span class="std std-ref">Collection</span></a> of <a class="reference internal" href="#user"><span class="std std-ref">User</span></a> s who voted for the item, latest first.</p>
<dl class="describe">
<dt>
<code class="sig-name descname">user_voted</code></dt>
<dd><p>Indicates if the user voted for the item.</p>
</dd></dl>

<dl class="get">
<dt id="get--api-(resource-url)?slice">
<code class="sig-name descname">GET </code><code class="sig-name descname">/api/(resource-url)?slice</code><a class="headerlink" href="#get--api-(resource-url)?slice" title="Permalink to this definition">¶</a></dt>
<dd><p>Query the collection for a <em>slice</em> of items.</p>
<p><em>slice</em> is a <em>slice string</em>. The maximum number of items is limited to a <em>limit</em> of 100, i.e.
<em>stop</em> is capped at <em>start</em> + <em>limit</em>. Defaults to <code class="docutils literal notranslate"><span class="pre">:</span></code>.</p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">/api/cats</span></code> (which is equivalent to <code class="docutils literal notranslate"><span class="pre">/api/cats?slice=:</span></code> or
<code class="docutils literal notranslate"><span class="pre">/api/cats?slice=0:100</span></code>) returns the first hundred items and <code class="docutils literal notranslate"><span class="pre">/api/cats?slice=10:20</span></code> returns
the items from index 10 up to including 19.</p>
</dd></dl>

<dl class="post">
<dt id="post--api-items-(id)-votes">
<code class="sig-name descname">POST </code><code class="sig-name descname">/api/items/</code><span class="sig-paren">(</span><em class="sig-param">id</em><span class="sig-paren">)</span><code class="sig-name descname">/votes</code><a class="headerlink" href="#post--api-items-(id)-votes" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="post">
<dt id="post--api-lists-(list-id)-items-(id)-votes">
<code class="sig-name descname">POST </code><code class="sig-name descname">/api/lists/(list-id)/items/</code><span class="sig-paren">(</span><em class="sig-param">id</em><span class="sig-paren">)</span><code class="sig-name descname">/votes</code><a class="headerlink" href="#post--api-lists-(list-id)-items-(id)-votes" title="Permalink to this definition">¶</a></dt>
<dd><p>Vote for the item.</p>
<p>Permission: Authenticated users.</p>
<div class="deprecated">
<p><span class="versionmodified deprecated">Deprecated since version 0.39.0: </span>Nested URL.</p>
</div>
</dd></dl>

<dl class="delete">
<dt id="delete--api-items-(id)-votes-user">
<code class="sig-name descname">DELETE </code><code class="sig-name descname">/api/items/</code><span class="sig-paren">(</span><em class="sig-param">id</em><span class="sig-paren">)</span><code class="sig-name descname">/votes/user</code><a class="headerlink" href="#delete--api-items-(id)-votes-user" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="delete">
<dt id="delete--api-lists-(list-id)-items-(id)-votes-user">
<code class="sig-name descname">DELETE </code><code class="sig-name descname">/api/lists/(list-id)/items/</code><span class="sig-paren">(</span><em class="sig-param">id</em><span class="sig-paren">)</span><code class="sig-name descname">/votes/user</code><a class="headerlink" href="#delete--api-lists-(list-id)-items-(id)-votes-user" title="Permalink to this definition">¶</a></dt>
<dd><p>Unvote the item, i.e. annul a previous vote.</p>
<p>Permission: Authenticated users.</p>
<div class="deprecated">
<p><span class="versionmodified deprecated">Deprecated since version 0.39.0: </span>Nested URL.</p>
</div>
</dd></dl>

</section>
</section>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<p class="logo">
  <a href="index.html">
    <img class="logo" src="_static/listling.svg" alt="Logo"/>
    
    <h1 class="logo logo-name">Open Listling</h1>
    
  </a>
</p>



<p class="blurb">Collaborative lists</p>




<p>
<iframe src="https://ghbtns.com/github-btn.html?user=noyainrain&repo=listling&type=star&count=true&size=large&v=2"
  allowtransparency="true" frameborder="0" scrolling="0" width="200px" height="35px"></iframe>
</p>





<h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="README.html">1. Introduction</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">2. Web API</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#introduction">2.1. Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="#authentication-and-permissions">2.2. Authentication and Permissions</a></li>
<li class="toctree-l2"><a class="reference internal" href="#additional-types">2.3. Additional types</a></li>
<li class="toctree-l2"><a class="reference internal" href="#usage-examples">2.4. Usage examples</a></li>
<li class="toctree-l2"><a class="reference internal" href="#gone">2.5. Gone</a></li>
<li class="toctree-l2"><a class="reference internal" href="#collection">2.6. Collection</a></li>
<li class="toctree-l2"><a class="reference internal" href="#device">2.7. Device</a></li>
<li class="toctree-l2"><a class="reference internal" href="#devices">2.8. Devices</a></li>
<li class="toctree-l2"><a class="reference internal" href="#authrequest">2.9. AuthRequest</a></li>
<li class="toctree-l2"><a class="reference internal" href="#activity">2.10. Activity</a></li>
<li class="toctree-l2"><a class="reference internal" href="#event">2.11. Event</a></li>
<li class="toctree-l2"><a class="reference internal" href="#location">2.12. Location</a></li>
<li class="toctree-l2"><a class="reference internal" href="#resources">2.13. Resources</a></li>
<li class="toctree-l2"><a class="reference internal" href="#analytics">2.14. Analytics</a></li>
<li class="toctree-l2"><a class="reference internal" href="#files">2.15. Files</a></li>
<li class="toctree-l2"><a class="reference internal" href="#errors">2.16. Errors</a></li>
<li class="toctree-l2"><a class="reference internal" href="#listling">2.17. Listling</a></li>
<li class="toctree-l2"><a class="reference internal" href="#user">2.18. User</a></li>
<li class="toctree-l2"><a class="reference internal" href="#users">2.19. Users</a></li>
<li class="toctree-l2"><a class="reference internal" href="#settings">2.20. Settings</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id31">2.21. Lists</a></li>
<li class="toctree-l2"><a class="reference internal" href="#list">2.22. List</a></li>
<li class="toctree-l2"><a class="reference internal" href="#item">2.23. Item</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id40">2.24. Items</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="pythonapi.html">3. Python API</a></li>
<li class="toctree-l1"><a class="reference internal" href="CONTRIBUTING.html">4. Contributing</a></li>
</ul>


<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2021 Open Listling contributors.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 2.4.4</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
    </div>

    

    
  </body>
</html>